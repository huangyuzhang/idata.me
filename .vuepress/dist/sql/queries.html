<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SQL Queries | Yuzhang&#39;s Notes</title>
    <meta name="description" content="Yuzhang Huang&#39;s personal online notebook">
    
    
    <link rel="preload" href="/assets/css/styles.157cf73c.css" as="style"><link rel="preload" href="/assets/js/app.157cf73c.js" as="script"><link rel="preload" href="/assets/js/52.18d4dc84.js" as="script"><link rel="prefetch" href="/assets/js/25.82018898.js"><link rel="prefetch" href="/assets/css/1.styles.6069594e.css"><link rel="prefetch" href="/assets/js/1.6069594e.js"><link rel="prefetch" href="/assets/css/2.styles.19d85097.css"><link rel="prefetch" href="/assets/js/2.19d85097.js"><link rel="prefetch" href="/assets/js/3.c1ffa00e.js"><link rel="prefetch" href="/assets/js/4.7cb17ac0.js"><link rel="prefetch" href="/assets/js/5.5b145ab8.js"><link rel="prefetch" href="/assets/js/6.e7ce3b60.js"><link rel="prefetch" href="/assets/js/7.b502418f.js"><link rel="prefetch" href="/assets/js/8.06d48bdb.js"><link rel="prefetch" href="/assets/js/9.48931708.js"><link rel="prefetch" href="/assets/js/10.c856a2d4.js"><link rel="prefetch" href="/assets/js/11.c8c7f33d.js"><link rel="prefetch" href="/assets/js/12.5cfb0c2f.js"><link rel="prefetch" href="/assets/js/13.80ce9d84.js"><link rel="prefetch" href="/assets/js/14.8891ef64.js"><link rel="prefetch" href="/assets/js/15.ef767567.js"><link rel="prefetch" href="/assets/js/16.720d2db3.js"><link rel="prefetch" href="/assets/js/17.9c64902d.js"><link rel="prefetch" href="/assets/js/18.7da0c779.js"><link rel="prefetch" href="/assets/js/19.5977bc4c.js"><link rel="prefetch" href="/assets/js/20.87b8ee4f.js"><link rel="prefetch" href="/assets/js/21.9ef12f9c.js"><link rel="prefetch" href="/assets/js/22.d234b9e1.js"><link rel="prefetch" href="/assets/js/23.32ad95d0.js"><link rel="prefetch" href="/assets/js/24.b13914ca.js"><link rel="prefetch" href="/assets/js/26.8737b6f8.js"><link rel="prefetch" href="/assets/js/27.43127ef4.js"><link rel="prefetch" href="/assets/js/28.4bd3ac93.js"><link rel="prefetch" href="/assets/js/29.b5f172e8.js"><link rel="prefetch" href="/assets/js/30.ddc2f87d.js"><link rel="prefetch" href="/assets/js/31.b1957c3a.js"><link rel="prefetch" href="/assets/js/32.081b9527.js"><link rel="prefetch" href="/assets/js/33.057c1bc2.js"><link rel="prefetch" href="/assets/js/34.6d9f67f6.js"><link rel="prefetch" href="/assets/js/35.a794ebf3.js"><link rel="prefetch" href="/assets/js/36.e20daf3a.js"><link rel="prefetch" href="/assets/js/37.4d3171bc.js"><link rel="prefetch" href="/assets/js/38.73716476.js"><link rel="prefetch" href="/assets/js/39.fbc57a2b.js"><link rel="prefetch" href="/assets/js/40.4ade963a.js"><link rel="prefetch" href="/assets/js/41.bacc9344.js"><link rel="prefetch" href="/assets/js/42.3865e38b.js"><link rel="prefetch" href="/assets/js/43.9349e8b8.js"><link rel="prefetch" href="/assets/js/44.e498e7bb.js"><link rel="prefetch" href="/assets/js/45.4209ebf3.js"><link rel="prefetch" href="/assets/js/46.0e1b159a.js"><link rel="prefetch" href="/assets/js/47.b6847adc.js"><link rel="prefetch" href="/assets/js/48.10017ea9.js"><link rel="prefetch" href="/assets/js/49.c3e77c4d.js"><link rel="prefetch" href="/assets/js/50.2adf1245.js"><link rel="prefetch" href="/assets/js/51.438d99df.js"><link rel="prefetch" href="/assets/js/53.341ca6ca.js"><link rel="prefetch" href="/assets/js/54.159d4770.js">
    <link rel="stylesheet" href="/assets/css/1.styles.6069594e.css"><link rel="stylesheet" href="/assets/css/2.styles.19d85097.css"><link rel="stylesheet" href="/assets/css/styles.157cf73c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Yuzhang's Notes</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/ba/" class="nav-link">BA</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Programming</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/python/" class="nav-link">Python</a></li><li class="dropdown-item"><!----> <a href="/sql/" class="nav-link router-link-active">SQL</a></li><li class="dropdown-item"><!----> <a href="/r/" class="nav-link">R</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Others</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/other/" class="nav-link">Other Notes</a></li><li class="dropdown-subitem"><a href="/about/" class="nav-link">About me</a></li></ul></li><li class="dropdown-item"><h4>External</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.51redaiyu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  热带鱼
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://www.iyu.co" target="_blank" rel="noopener noreferrer" class="nav-link external">
  爱鱼客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://git.iyu.co" target="_blank" rel="noopener noreferrer" class="nav-link external">
  My Git
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/ba/" class="nav-link">BA</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Programming</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/python/" class="nav-link">Python</a></li><li class="dropdown-item"><!----> <a href="/sql/" class="nav-link router-link-active">SQL</a></li><li class="dropdown-item"><!----> <a href="/r/" class="nav-link">R</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Others</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/other/" class="nav-link">Other Notes</a></li><li class="dropdown-subitem"><a href="/about/" class="nav-link">About me</a></li></ul></li><li class="dropdown-item"><h4>External</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.51redaiyu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  热带鱼
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://www.iyu.co" target="_blank" rel="noopener noreferrer" class="nav-link external">
  爱鱼客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://git.iyu.co" target="_blank" rel="noopener noreferrer" class="nav-link external">
  My Git
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>SQL Basics</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/sql/" class="sidebar-link">SQL Manipulation</a></li><li><a href="/sql/queries.html" class="active sidebar-link">SQL Queries</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/sql/queries.html#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/sql/queries.html#select" class="sidebar-link">SELECT</a></li><li class="sidebar-sub-header"><a href="/sql/queries.html#as" class="sidebar-link">AS</a></li><li class="sidebar-sub-header"><a href="/sql/queries.html#distinct" class="sidebar-link">Distinct</a></li><li class="sidebar-sub-header"><a href="/sql/queries.html#where" class="sidebar-link">WHERE</a></li><li class="sidebar-sub-header"><a href="/sql/queries.html#like-i" class="sidebar-link">LIKE I: _</a></li><li class="sidebar-sub-header"><a href="/sql/queries.html#like-ii" class="sidebar-link">LIKE II: %</a></li><li class="sidebar-sub-header"><a href="/sql/queries.html#is-null" class="sidebar-link">IS NULL</a></li><li class="sidebar-sub-header"><a href="/sql/queries.html#between-and" class="sidebar-link">BETWEEN...AND...</a></li><li class="sidebar-sub-header"><a href="/sql/queries.html#and" class="sidebar-link">AND</a></li><li class="sidebar-sub-header"><a href="/sql/queries.html#or" class="sidebar-link">OR</a></li><li class="sidebar-sub-header"><a href="/sql/queries.html#order-by" class="sidebar-link">ORDER BY</a></li><li class="sidebar-sub-header"><a href="/sql/queries.html#limit" class="sidebar-link">LIMIT</a></li><li class="sidebar-sub-header"><a href="/sql/queries.html#case" class="sidebar-link">CASE</a></li></ul></li><li><a href="/sql/aggregate-functions.html" class="sidebar-link">Aggregate Functions</a></li><li><a href="/sql/multiple-tables.html" class="sidebar-link">Multiple Tables</a></li><li><a href="/sql/exercises.html" class="sidebar-link">SQL Exercises</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>SQL: Table Transformation</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/sql/table-transformation/" class="sidebar-link">Introduction</a></li><li><a href="/sql/table-transformation/subqueries.html" class="sidebar-link">Subqueries</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="sql-queries"><a href="#sql-queries" aria-hidden="true" class="header-anchor">#</a> SQL Queries</h1> <h2 id="introduction"><a href="#introduction" aria-hidden="true" class="header-anchor">#</a> Introduction</h2> <p>In this lesson, we will be learning different SQL commands to <strong>query</strong> a single table in a database.</p> <p>One of the core purposes of the SQL language is to retrieve information stored in a database. This is commonly referred to as querying. Queries allow us to communicate with the database by asking questions and having the result set return data relevant to the question.</p> <p>We will be querying a database with one table named <code>movies</code>.</p> <p>Fun fact: IBM started out SQL as SEQUEL (Structured English QUEry Language) in the 70's to query databases.</p> <h2 id="select"><a href="#select" aria-hidden="true" class="header-anchor">#</a> SELECT</h2> <p>We can select more than one columns by their names, separated by <code>,</code>.</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> name<span class="token punctuation">,</span> id <span class="token keyword">FROM</span> movies<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="as"><a href="#as" aria-hidden="true" class="header-anchor">#</a> AS</h2> <p><code>AS</code> is a keyword in SQL that allows you to rename a column or table using an alias. The new name can be anything you want as long as you put it inside of single quotes. Here we renamed the <code>name</code> column as <code>Titles</code>.</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> name <span class="token keyword">AS</span> <span class="token string">'Titles'</span>
<span class="token keyword">FROM</span> movies<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>It is important to remember that the columns have not been renamed in the table. The aliases only appear in the result.</p> <h2 id="distinct"><a href="#distinct" aria-hidden="true" class="header-anchor">#</a> Distinct</h2> <p>When we are examining data in a table, it can be helpful to know what distinct values exist in a particular column.</p> <p><code>DISTINCT</code> is used to return unique values in the output. It filters out all duplicate values in the specified column(s).</p> <p>For instance,</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> tools
<span class="token keyword">FROM</span> inventory<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><table><thead><tr><th>tools</th></tr></thead> <tbody><tr><td>Hammer</td></tr> <tr><td>Nail</td></tr> <tr><td>Nail</td></tr> <tr><td>Nail</td></tr> <tr><td>Hammer</td></tr></tbody></table> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> tools
<span class="token keyword">FROM</span> inventory<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><table><thead><tr><th>tools</th></tr></thead> <tbody><tr><td>Hammer</td></tr> <tr><td>Nail</td></tr></tbody></table> <h2 id="where"><a href="#where" aria-hidden="true" class="header-anchor">#</a> WHERE</h2> <p>We can restrict our query results using the <code>WHERE</code> clause in order to obtain only the information we want.</p> <p>Following this format, the statement below filters the result set to only include top rated movies (IMDb ratings greater than 8):</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> movies
<span class="token keyword">WHERE</span> imdb_rating <span class="token operator">&gt;</span> <span class="token number">8</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <ol><li><p><code>WHERE</code> clause filters the result set to only include rows where the following <em>condition</em> is true.</p></li> <li><p><code>imdb_rating &gt; 8</code> is the condition. Here, only rows with a value greater than 8 in the <code>imdb_rating</code> column will be returned.</p></li></ol> <p>The <code>&gt;</code> is an operator. Operators create a condition that can be evaluated as either <em>true</em> or <em>false</em>.</p> <p>Comparison operators used with the <code>WHERE</code> clause are:</p> <ul><li><code>=</code> equal to</li> <li><code>!=</code> not equal to</li> <li><code>&gt;</code> greater than</li> <li><code>&lt;</code> less than</li> <li><code>&gt;=</code> greater than or equal to</li> <li><code>&lt;=</code> less than or equal to
There are also some special operators that we will learn more about in the upcoming exercises.</li></ul></div> <h2 id="like-i"><a href="#like-i" aria-hidden="true" class="header-anchor">#</a> LIKE I: <code>_</code></h2> <p><code>LIKE</code> can be a useful operator when you want to compare similar values.</p> <p>The <code>movies</code> table contains two films with similar titles, 'Se7en' and 'Seven'.</p> <p>How could we select all movies that start with 'Se' and end with 'en' and have exactly one character in the middle?</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> movies
<span class="token keyword">WHERE</span> name <span class="token operator">LIKE</span> <span class="token string">'Se_en'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <ul><li><code>LIKE</code> is a special operator used with the <code>WHERE</code> clause to search for a specific pattern in a column.</li> <li><code>name LIKE 'Se_en'</code> is a condition evaluating the <code>name</code> column for a specific pattern.</li> <li><code>Se_en</code> represents a pattern with a wildcard character.</li></ul></div> <p>The <code>_</code> means you can substitute any individual character here without breaking the pattern. The names <code>Seven</code> and <code>Se7en</code> both match this pattern.</p> <h2 id="like-ii"><a href="#like-ii" aria-hidden="true" class="header-anchor">#</a> LIKE II: <code>%</code></h2> <p>The percentage sign <code>%</code> is another wildcard character that can be used with <code>LIKE</code>.</p> <p>This statement below filters the result set to only include movies with names that begin with the letter 'A':</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> movies
<span class="token keyword">WHERE</span> name <span class="token operator">LIKE</span> <span class="token string">'A%'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><code>%</code> is a wildcard character that matches zero or more missing letters in the pattern. For example:</p> <ul><li><code>A%</code> matches all movies with names that begin with letter 'A'</li> <li><code>%a</code> matches all movies that end with 'a'</li></ul></div> <p>We can also use <code>%</code> both before and after a pattern:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> movies
<span class="token keyword">WHERE</span> name <span class="token operator">LIKE</span> <span class="token string">'%man%'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>Here, any movie that contains the word 'man' in its name will be returned in the result.</p> <p><code>LIKE</code> is <strong>not</strong> case sensitive. 'Batman' and 'Man of Steel' will both appear in the result of the query above.</p></div> <h2 id="is-null"><a href="#is-null" aria-hidden="true" class="header-anchor">#</a> IS NULL</h2> <p>By this point of the lesson, you might have noticed that there are a few missing values in the <code>movies</code> table. More often than not, the data you encounter will have missing values.</p> <p>Unknown values are indicated by <code>NULL</code>.</p> <p>It is not possible to test for <code>NULL</code> values with comparison operators, such as <code>=</code> and <code>!=</code>.</p> <p>Instead, we will have to use these operators:</p> <ul><li><code>IS NULL</code></li> <li><code>IS NOT NULL</code>
To filter for all movies with an IMDb rating:</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> name
<span class="token keyword">FROM</span> movies
<span class="token keyword">WHERE</span> imdb_rating <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="between-and"><a href="#between-and" aria-hidden="true" class="header-anchor">#</a> BETWEEN...AND...</h2> <p>The <code>BETWEEN</code> operator can be used in a <code>WHERE</code> clause to filter the result set within a certain range. The values can be numbers, text or dates.</p> <p>This statement filters the result set to only include movies with <code>name</code>s that begin with letters 'A' up to, but not including 'J'.</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> movies
<span class="token keyword">WHERE</span> name <span class="token operator">BETWEEN</span> <span class="token string">'A'</span> <span class="token operator">AND</span> <span class="token string">'J'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Here is another one:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> movies
<span class="token keyword">WHERE</span> <span class="token keyword">year</span> <span class="token operator">BETWEEN</span> <span class="token number">1990</span> <span class="token operator">AND</span> <span class="token number">1999</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>In this statement, the <code>BETWEEN</code> operator is being used to filter the result set to only include movies with <code>year</code>s between 1990 up to, and including 1999.</p> <p>Really interesting point to emphasize again:</p> <ul><li><code>BETWEEN</code> two letters <strong><em>is not</em></strong> inclusive of the 2nd letter.</li> <li><code>BETWEEN</code> two numbers <strong><em>is</em></strong> inclusive of the 2nd number.</li></ul> <h2 id="and"><a href="#and" aria-hidden="true" class="header-anchor">#</a> AND</h2> <p>Sometimes we want to <em>combine multiple conditions</em> in a <code>WHERE</code> clause to make the result set more specific and useful.</p> <p>One way of doing this is to use the <code>AND</code> operator. Here, we use the <code>AND</code> operator to only return 90's romance movies.</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> movies
<span class="token keyword">WHERE</span> <span class="token keyword">year</span> <span class="token operator">BETWEEN</span> <span class="token number">1990</span> <span class="token operator">AND</span> <span class="token number">1999</span>
   <span class="token operator">AND</span> genre <span class="token operator">=</span> <span class="token string">'romance'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <ul><li><code>year BETWEEN 1990 AND 1999</code> is the 1st condition.</li> <li><code>genre = 'romance'</code>is the 2nd condition.</li> <li><code>AND</code> combines the two conditions.</li></ul></div> <p>With <code>AND</code>, both conditions must be true for the row to be included in the result.</p> <div class="warning custom-block"><p class="custom-block-title">Mini Exercise</p> <p>Using <code>AND</code>, write a query that selects all movies made prior to 1985 that are also in the <code>horror</code> genre.</p> <p><strong>Answer</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> movies
<span class="token keyword">WHERE</span> <span class="token keyword">year</span> <span class="token operator">&lt;</span> <span class="token number">1985</span>
	<span class="token operator">AND</span> genre <span class="token operator">=</span> <span class="token string">'horror'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <h2 id="or"><a href="#or" aria-hidden="true" class="header-anchor">#</a> OR</h2> <p>Similar to <code>AND</code>, the <code>OR</code> operator can also be used to combine multiple conditions in <code>WHERE</code>, but there is a fundamental difference:</p> <ul><li><code>AND</code> operator displays a row if <strong><em>all</em></strong> the conditions are true.</li> <li><code>OR</code> operator displays a row if <strong><em>any</em></strong> condition is true.</li></ul> <p>Suppose we want to check out a new movie or something action-packed:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> movies
<span class="token keyword">WHERE</span> <span class="token keyword">year</span> <span class="token operator">&gt;</span> <span class="token number">2014</span>
<span class="token operator">OR</span> genre <span class="token operator">=</span> <span class="token string">'action'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <ul><li><code>year &gt; 2014</code> is the 1st condition.</li> <li><code>genre = 'action'</code> is the 2nd condition.
``OR` combines the two conditions.</li></ul></div> <p>With <code>OR</code>, if any of the conditions are true, then the row is added to the result.</p> <blockquote><p>That's it with <code>WHERE</code> and its operators. Moving on!</p></blockquote> <h2 id="order-by"><a href="#order-by" aria-hidden="true" class="header-anchor">#</a> ORDER BY</h2> <p>It is often useful to list the data in our result set in a particular order.</p> <p>We can sort the results using <code>ORDER BY</code>, either alphabetically or numerically. Sorting the results often makes the data more useful and easier to analyze.</p> <p>For example, if we want to sort everything by the movie's title from A through Z:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> movies
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> name<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <ul><li><code>ORDER</code> BY is a clause that indicates you want to sort the result set by a particular column.</li> <li><code>name</code> is the specified column.</li></ul></div> <p>Sometimes we want to sort things in a decreasing order. For example, if we want to select all of the well-received movies, sorted from highest to lowest by their year:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> movies
<span class="token keyword">WHERE</span> imdb_rating <span class="token operator">&gt;</span> <span class="token number">8</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token keyword">year</span> <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <ul><li><p><code>DESC</code> is a keyword used in <code>ORDER BY</code> to sort the results in <strong><em>descending</em></strong> order (high to low or Z-A).</p></li> <li><p><code>ASC</code> is a keyword used in ORDER BY to sort the results in <strong><em>ascending</em></strong> order (low to high or A-Z).</p></li></ul> <p>The column that we <code>ORDER BY</code> doesn't even have to be one of the columns that we're displaying.</p></div> <div class="warning custom-block"><p class="custom-block-title">Note</p> <p><code>ORDER BY</code> always goes after <code>WHERE</code> (if <code>WHERE</code> is present).</p></div> <h2 id="limit"><a href="#limit" aria-hidden="true" class="header-anchor">#</a> LIMIT</h2> <p>Most SQL tables contain hundreds of thousands of records. In those situations, it becomes important to cap the number of rows in the result.</p> <p>For instance, imagine that we just want to see a few examples of records.</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> movies
<span class="token keyword">LIMIT</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><code>LIMIT</code> is a clause that lets you specify the maximum number of rows the result set will have. This saves space on our screen and makes our queries run faster.</p></div> <p>Here, we specify that the result set can't have more than 10 rows.</p> <div class="warning custom-block"><p class="custom-block-title">Note</p> <p><code>LIMIT</code> always goes at the very end of the query. Also, it is not supported in all SQL databases.</p></div> <div class="warning custom-block"><p class="custom-block-title">Mini Exercise</p> <p>Combining your knowledge of <code>LIMIT</code> and <code>ORDER BY</code>, write a query that returns the top 3 highest rated movies.</p> <p>Select all the columns.</p> <p><strong>Answer</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> movies
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> imdb_rating <span class="token keyword">DESC</span>
<span class="token keyword">LIMIT</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <h2 id="case"><a href="#case" aria-hidden="true" class="header-anchor">#</a> CASE</h2> <p>A <code>CASE</code> statement allows us to create different outputs (usually in the <code>SELECT</code> statement). It is SQL's way of handling if-then logic.</p> <p>Suppose we want to condense the ratings in <code>movies</code> to three levels:</p> <ul><li>If the rating is above 8, then it is Fantastic.</li> <li>If the rating is above 6, then it is Poorly Received.</li> <li>Else, Avoid at All Costs.</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> name<span class="token punctuation">,</span>
 <span class="token keyword">CASE</span>
  <span class="token keyword">WHEN</span> imdb_rating <span class="token operator">&gt;</span> <span class="token number">8</span> <span class="token keyword">THEN</span> <span class="token string">'Fantastic'</span>
  <span class="token keyword">WHEN</span> imdb_rating <span class="token operator">&gt;</span> <span class="token number">6</span> <span class="token keyword">THEN</span> <span class="token string">'Poorly Received'</span>
  <span class="token keyword">ELSE</span> <span class="token string">'Avoid at All Costs'</span>
 <span class="token keyword">END</span>
<span class="token keyword">FROM</span> movies<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <ul><li>Each <code>WHEN</code> tests a condition and the following <code>THEN</code> gives us the string if the condition is true.</li> <li>The <code>ELSE</code> gives us the string if all the above conditions are false.</li> <li>The <code>CASE</code> statement must end with <code>END</code>.</li></ul></div> <p>In the result, you have to scroll right because the column name is very long. To shorten it, we can rename the column to 'Review' using <code>AS</code>:</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> name<span class="token punctuation">,</span>
  <span class="token keyword">CASE</span>
    <span class="token keyword">WHEN</span> imdb_rating <span class="token operator">&gt;</span> <span class="token number">8</span> <span class="token keyword">THEN</span> <span class="token string">'Fantastic'</span>
    <span class="token keyword">WHEN</span> imdb_rating <span class="token operator">&gt;</span> <span class="token number">6</span> <span class="token keyword">THEN</span> <span class="token string">'Poorly Received'</span>
    <span class="token keyword">ELSE</span> <span class="token string">'Avoid at All Costs'</span>
  <span class="token keyword">END</span>
<span class="token keyword">AS</span> <span class="token string">'Review'</span>
<span class="token keyword">FROM</span> movies<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="warning custom-block"><p class="custom-block-title">Mini Exercise</p> <p>Select the <code>name</code> column and use a <code>CASE</code> statement to create the second column that is:</p> <ul><li><p>'Chill' if <code>genre = 'romance'</code></p></li> <li><p>'Chill' if <code>genre = 'comedy'</code></p></li> <li><p>'Intense' in all other cases</p> <p>Optional: Rename the whole <code>CASE</code> statement to 'Mood' using <code>AS</code>.</p></li></ul> <p><strong>Answer</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> name<span class="token punctuation">,</span>
	<span class="token keyword">CASE</span>
  	<span class="token keyword">WHEN</span> genre <span class="token operator">=</span> <span class="token string">'romance'</span> <span class="token operator">OR</span> genre <span class="token operator">=</span> <span class="token string">'comedy'</span> <span class="token keyword">THEN</span> <span class="token string">'Chill'</span>
    <span class="token keyword">ELSE</span> <span class="token string">'Intense'</span>
  <span class="token keyword">END</span>
<span class="token keyword">AS</span> <span class="token string">'Mood'</span>
<span class="token keyword">FROM</span> movies<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div> <div class="warning custom-block"><p class="custom-block-title">Exercise</p> <p><a href="/sql/exercises.html#exercise-2">Exercise 2: Restaurants</a></p></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/sql/" class="prev router-link-active">
          SQL Manipulation
        </a></span> <span class="next"><a href="/sql/aggregate-functions.html">
          Aggregate Functions
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/52.18d4dc84.js" defer></script><script src="/assets/js/app.157cf73c.js" defer></script>
  </body>
</html>
